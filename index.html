<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UPI Payment Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center">
  <div class="w-full max-w-xl bg-white shadow-2xl rounded-2xl p-8">
    <!-- Header -->
    <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">UPI Payment Dashboard</h1>

    <!-- Standard UPI & Field -->
    <div class="mb-6">
      <label for="upiId" class="block text-gray-700 font-semibold mb-2">Standard UPI ID</label>
      <input id="upiId" type="text" placeholder="e.g. yourname@upi" 
        class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-500">
    </div>
    <div class="mb-6">
      <label for="field" class="block text-gray-700 font-semibold mb-2">Standard Field</label>
      <input id="field" type="text" placeholder="e.g. your-company" 
        class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-500">
    </div>

    <!-- Customer Details -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div>
        <label for="customerName" class="block text-gray-700 font-semibold mb-2">Customer Name</label>
        <input id="customerName" type="text" placeholder="John Doe" 
          class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-500">
      </div>
      <div>
        <label for="amount" class="block text-gray-700 font-semibold mb-2">Amount (INR)</label>
        <input id="amount" type="number" placeholder="1000" 
          class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-500">
      </div>
    </div>

    <!-- Generate Button -->
    <button onclick="generateLink()" 
      class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition">
      Generate Payment Link
    </button>

    <!-- Output -->
    <div id="output" class="mt-6 p-4 bg-gray-50 rounded-lg border hidden">
      <p class="text-gray-700 font-medium mb-2">Generated Link:</p>
      <a id="paymentLink" href="#" target="_blank" 
         class="break-all text-indigo-600 underline hover:text-indigo-800"></a>

      <button onclick="copyLink()" 
        class="mt-4 w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 rounded-lg">
        Copy to Clipboard
      </button>

      <div class="mt-6 flex justify-center">
        <canvas id="qrcode"></canvas>
      </div>
    </div>
  </div>

  <script>
    function generateLink() {
      const upiId = document.getElementById('upiId').value.trim();
      const field = document.getElementById('field').value.trim();
      const name = document.getElementById('customerName').value.trim();
      const amount = document.getElementById('amount').value.trim();

      if (!upiId || !field || !name || !amount) {
        alert("Please fill all fields.");
        return;
      }

      const upiLink = `upi://pay?pa=${encodeURIComponent(upiId)}&pn=${encodeURIComponent(name)}&am=${encodeURIComponent(amount)}&tn=${encodeURIComponent(field)}&cu=INR`;
      const link = `pay.html?pa=${encodeURIComponent(upiId)}&pn=${encodeURIComponent(name)}&am=${encodeURIComponent(amount)}&tn=${encodeURIComponent(field)}`;

      document.getElementById('paymentLink').href = link;
      document.getElementById('paymentLink').innerText = window.location.origin + "/" + link;
      document.getElementById('output').classList.remove('hidden');

      QRCode.toCanvas(document.getElementById('qrcode'), upiLink, { width: 180 });
    }

    function copyLink() {
      const link = document.getElementById('paymentLink').href;
      navigator.clipboard.writeText(link);
      alert("Link copied to clipboard!");
    }
  </script>
</body>
</html>
